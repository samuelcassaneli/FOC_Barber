(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{7622:function(e,t,s){Promise.resolve().then(s.bind(s,7350))},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},292:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var a=s(2972),n=s.n(a)},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7350:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),n=s(2265),r=s(5526),i=s(2593),l=s(2920),c=s(7648),d=s(9376);let o=(0,s(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var u=s(292),x=s(1047),m=s(1723);function h(){let e=(0,d.useRouter)(),[t,s]=(0,n.useState)([]),[h,f]=(0,n.useState)(!0),[g,b]=(0,n.useState)(""),[p,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{let{data:{user:t}}=await r.O.auth.getUser();if(!t){e.push("/auth");return}if("aiucmt.kiaaivmtq@gmail.com"===t.email){j(!0),b("Super Admin"),f(!1);return}let{data:a}=await r.O.from("profiles").select("full_name").eq("id",t.id).single();a&&b(a.full_name);let{data:n}=await r.O.from("bookings").select("\n          *,\n          barber:barbers(name),\n          service:services(name, price, duration_minutes)\n        ").eq("client_id",t.id).order("booking_date",{ascending:!0});n&&s(n),f(!1)})()},[e]);let y=async()=>{await r.O.auth.signOut(),e.push("/")};return h?(0,a.jsx)("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center text-gold",children:"Carregando..."}):(0,a.jsx)("div",{className:"min-h-screen bg-dark-bg p-4 md:p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white",children:["Ol\xe1, ",(0,a.jsx)("span",{className:"text-gold",children:g})]}),(0,a.jsx)("p",{className:"text-gray-400",children:p?"Bem-vindo ao Painel Master":"Gerencie seus agendamentos"})]}),(0,a.jsx)("button",{onClick:y,className:"text-sm text-red-400 hover:text-red-300",children:"Sair"})]}),p?(0,a.jsx)("section",{className:"flex flex-col gap-6",children:(0,a.jsxs)(i.W,{className:"p-8 text-center border-gold/30 bg-gold/5",children:[(0,a.jsx)(o,{className:"w-16 h-16 text-gold mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acesso Administrativo"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Voc\xea tem acesso total ao sistema. Gerencie barbearias, clientes e visualize m\xe9tricas."}),(0,a.jsx)(c.default,{href:"/admin",children:(0,a.jsx)(l.g,{className:"w-full md:w-auto px-8 py-3 text-lg",children:"Acessar Painel Master"})})]})}):(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Pr\xf3ximos Agendamentos"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.default,{href:"/search",children:(0,a.jsx)(l.g,{className:"w-auto py-2 px-4 text-sm bg-white/10 hover:bg-white/20 border-transparent",children:"Encontrar Barbearia"})}),(0,a.jsx)(c.default,{href:"/book",children:(0,a.jsx)(l.g,{className:"w-auto py-2 px-4 text-sm",children:"Novo Agendamento"})})]})]}),0===t.length?(0,a.jsxs)(i.W,{className:"p-8 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Voc\xea n\xe3o tem agendamentos futuros."}),(0,a.jsx)(c.default,{href:"/book",children:(0,a.jsx)(l.g,{className:"w-auto inline-block",children:"Agendar Agora"})})]}):(0,a.jsx)("div",{className:"grid gap-4",children:t.map(e=>{var t,s;return(0,a.jsxs)(i.W,{className:"p-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"bg-gold/10 p-3 rounded-lg",children:(0,a.jsx)(u.Z,{className:"text-gold w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-white text-lg",children:null===(t=e.service)||void 0===t?void 0:t.name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["com ",null===(s=e.barber)||void 0===s?void 0:s.name]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:items-end gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gold",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(e.booking_date).toLocaleDateString("pt-BR")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(e.booking_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase\n                     ".concat("confirmed"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:"confirmed"===e.status?"Confirmado":"pending"===e.status?"Pendente":e.status})]},e.id)})})]})]})})}},2593:function(e,t,s){"use strict";s.d(t,{W:function(){return r}});var a=s(7437),n=s(3448);function r(e){let{children:t,className:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("backdrop-blur-md bg-white/10 border border-white/20 rounded-xl shadow-xl",s),...r,children:t})}},2920:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var a=s(7437),n=s(3448);let r=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function i(e){let{children:t,className:s,isLoading:i,disabled:l,...c}=e;return(0,a.jsxs)("button",{disabled:l||i,className:(0,n.cn)("w-full bg-gradient-to-r from-[#D4AF37] to-[#F2D06B] text-black font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-gold/50 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",s),...c,children:[i&&(0,a.jsx)(r,{className:"mr-2 h-4 w-4 animate-spin"}),t]})}},5526:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(1695).createBrowserClient)("https://zynmvmxdluevuwigbadz.supabase.co","sb_publishable_9w0K7O3Sun2zl2qIQwX33g_wGkVsy6f")},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(1994),n=s(3335);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[554,695,972,971,117,744],function(){return e(e.s=7622)}),_N_E=e.O()}]);