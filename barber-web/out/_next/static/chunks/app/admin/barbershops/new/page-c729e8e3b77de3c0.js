(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{9160:function(e,t,a){Promise.resolve().then(a.bind(a,833))},2660:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3774:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3229:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8906:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},4413:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]])},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var s=a(2972),r=a.n(s)},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},833:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(7437),r=a(2265),l=a(5526),i=a(2593),n=a(9376),o=a(7648),d=a(8906),c=a(2660),u=a(4413);let h=(0,a(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var x=a(3774),b=a(3229);let m=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];function g(){let e=(0,n.useRouter)(),[t,a]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null),[f,v]=(0,r.useState)({name:"",slug:"",description:"",phone:"",email:"",website:"",address:"",city:"",state:"",zip_code:"",is_active:!0}),j=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),w=e=>{v(t=>({...t,name:e,slug:j(e)}))},y=async t=>{t.preventDefault(),a(!0),p(null);try{if(!f.name||!f.slug)throw Error("Nome e slug s\xe3o obrigat\xf3rios");let{data:t}=await l.O.from("barbershops").select("id").eq("slug",f.slug).single();if(t)throw Error("Este slug j\xe1 est\xe1 em uso. Escolha outro.");let{data:{user:a}}=await l.O.auth.getUser(),{data:s,error:r}=await l.O.from("barbershops").insert({name:f.name,slug:f.slug,description:f.description||null,phone:f.phone||null,email:f.email||null,website:f.website||null,address:f.address||null,city:f.city||null,state:f.state||null,zip_code:f.zip_code||null,is_active:f.is_active,owner_id:(null==a?void 0:a.id)||null,settings:{booking_advance_days:30,min_booking_notice_hours:2,cancellation_policy_hours:24,allow_client_cancellation:!0,require_payment_upfront:!1}}).select().single();if(r)throw r;e.push("/admin/barbershops/".concat(s.id))}catch(e){p(e.message||"Erro ao criar barbearia")}finally{a(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-dark-bg",children:[(0,s.jsx)("header",{className:"bg-dark-card border-b border-white/10 px-8 py-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d.Z,{className:"text-gold",size:28}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"FOC Barber Admin"})]}),(0,s.jsxs)("nav",{className:"flex gap-6",children:[(0,s.jsx)(o.default,{href:"/admin",className:"text-gray-400 hover:text-white transition",children:"Dashboard"}),(0,s.jsx)(o.default,{href:"/admin/barbershops",className:"text-gold font-medium",children:"Barbearias"}),(0,s.jsx)(o.default,{href:"/admin/users",className:"text-gray-400 hover:text-white transition",children:"Usu\xe1rios"}),(0,s.jsx)(o.default,{href:"/admin/financial",className:"text-gray-400 hover:text-white transition",children:"Financeiro"})]})]})}),(0,s.jsxs)("main",{className:"max-w-4xl mx-auto p-8",children:[(0,s.jsxs)(o.default,{href:"/admin/barbershops",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition mb-6",children:[(0,s.jsx)(c.Z,{size:20}),"Voltar para Barbearias"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gold/20 rounded-xl flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"text-gold",size:32})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Nova Barbearia"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Cadastre uma nova barbearia no sistema"})]})]}),(0,s.jsxs)("form",{onSubmit:y,children:[g&&(0,s.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg mb-6",children:g}),(0,s.jsxs)(i.W,{className:"p-6 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Nome da Barbearia *"}),(0,s.jsx)("input",{type:"text",value:f.name,onChange:e=>w(e.target.value),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"Ex: Barbearia Premium",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Slug (URL) *"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"text-gray-500 mr-2",children:"/"}),(0,s.jsx)("input",{type:"text",value:f.slug,onChange:e=>v(t=>({...t,slug:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"barbearia-premium",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Status"}),(0,s.jsxs)("select",{value:f.is_active?"active":"inactive",onChange:e=>v(t=>({...t,is_active:"active"===e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",children:[(0,s.jsx)("option",{value:"active",children:"Ativo"}),(0,s.jsx)("option",{value:"inactive",children:"Inativo"})]})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Descri\xe7\xe3o"}),(0,s.jsx)("textarea",{value:f.description,onChange:e=>v(t=>({...t,description:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50 h-24 resize-none",placeholder:"Descri\xe7\xe3o da barbearia..."})]})]})]}),(0,s.jsxs)(i.W,{className:"p-6 mb-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(h,{size:20,className:"text-gold"}),"Contato"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Telefone"}),(0,s.jsx)("input",{type:"tel",value:f.phone,onChange:e=>v(t=>({...t,phone:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"(11) 99999-9999"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"E-mail"}),(0,s.jsx)("input",{type:"email",value:f.email,onChange:e=>v(t=>({...t,email:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"contato@barbearia.com"})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Website"}),(0,s.jsx)("input",{type:"url",value:f.website,onChange:e=>v(t=>({...t,website:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"https://www.barbearia.com"})]})]})]}),(0,s.jsxs)(i.W,{className:"p-6 mb-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(x.Z,{size:20,className:"text-gold"}),"Endere\xe7o"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Endere\xe7o"}),(0,s.jsx)("input",{type:"text",value:f.address,onChange:e=>v(t=>({...t,address:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"Rua, n\xfamero, complemento"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Cidade"}),(0,s.jsx)("input",{type:"text",value:f.city,onChange:e=>v(t=>({...t,city:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"S\xe3o Paulo"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Estado"}),(0,s.jsxs)("select",{value:f.state,onChange:e=>v(t=>({...t,state:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",children:[(0,s.jsx)("option",{value:"",children:"Selecione..."}),m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"CEP"}),(0,s.jsx)("input",{type:"text",value:f.zip_code,onChange:e=>v(t=>({...t,zip_code:e.target.value})),className:"w-full bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-gold/50",placeholder:"00000-000"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(o.default,{href:"/admin/barbershops",className:"flex-1 text-center py-3 border border-white/20 text-gray-400 rounded-lg hover:bg-white/5 transition",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"flex-1 flex items-center justify-center gap-2 bg-gold text-black py-3 rounded-lg font-medium hover:bg-gold/90 transition disabled:opacity-50",children:t?"Salvando...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{size:20}),"Criar Barbearia"]})})]})]})]})]})}},2593:function(e,t,a){"use strict";a.d(t,{W:function(){return l}});var s=a(7437),r=a(3448);function l(e){let{children:t,className:a,...l}=e;return(0,s.jsx)("div",{className:(0,r.cn)("backdrop-blur-md bg-white/10 border border-white/20 rounded-xl shadow-xl",a),...l,children:t})}},5526:function(e,t,a){"use strict";a.d(t,{O:function(){return s}});let s=(0,a(1695).createBrowserClient)("https://zynmvmxdluevuwigbadz.supabase.co","sb_publishable_9w0K7O3Sun2zl2qIQwX33g_wGkVsy6f")},3448:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(1994),r=a(3335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[554,695,972,971,117,744],function(){return e(e.s=9160)}),_N_E=e.O()}]);