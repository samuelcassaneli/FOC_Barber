(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{7001:function(e,t,r){Promise.resolve().then(r.bind(r,8259))},1723:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5252:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4630:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},292:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8259:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(7437),i=r(2265),a=r(9376),n=r(5526),c=r(2593),l=r(2920),d=r(9397),o=r(292),u=r(1723),m=r(5252),x=r(4630),h=r(8930);function p(){let e=(0,a.useRouter)(),[t,r]=(0,i.useState)(!0),[p,v]=(0,i.useState)([]),[b,f]=(0,i.useState)(null),[g,y]=(0,i.useState)(!1),[j,w]=(0,i.useState)(null),[N,k]=(0,i.useState)({name:"",description:"",duration_min:30,price:0});(0,i.useEffect)(()=>{(async()=>{let{data:{user:t}}=await n.O.auth.getUser();if(!t){e.push("/auth");return}let{data:s}=await n.O.from("barbers").select("id").eq("profile_id",t.id).single();if(!s){e.push("/dashboard");return}f(s.id);let{data:i}=await n.O.from("services").select("*").eq("barber_id",s.id).order("name");v(i||[]),r(!1)})()},[e]);let _=async e=>{if(e.preventDefault(),b)try{j?await n.O.from("services").update({name:N.name,description:N.description||null,duration_min:N.duration_min,price:N.price}).eq("id",j.id):await n.O.from("services").insert({barber_id:b,name:N.name,description:N.description||null,duration_min:N.duration_min,price:N.price,is_active:!0});let{data:e}=await n.O.from("services").select("*").eq("barber_id",b).order("name");v(e||[]),y(!1),w(null),k({name:"",description:"",duration_min:30,price:0})}catch(e){console.error("Error saving service:",e)}},Z=e=>{w(e),k({name:e.name,description:e.description||"",duration_min:e.duration_min,price:e.price}),y(!0)},S=async e=>{confirm("Tem certeza que deseja excluir este servi\xe7o?")&&(await n.O.from("services").delete().eq("id",e),v(p.filter(t=>t.id!==e)))},q=async e=>{await n.O.from("services").update({is_active:!e.is_active}).eq("id",e.id),v(p.map(t=>t.id===e.id?{...t,is_active:!t.is_active}:t))};return t?(0,s.jsx)("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center text-gold",children:"Carregando..."}):(0,s.jsx)("div",{className:"min-h-screen bg-dark-bg p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Meus Servi\xe7os"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Gerencie os servi\xe7os que voc\xea oferece"})]}),(0,s.jsxs)(l.g,{onClick:()=>{y(!0),w(null),k({name:"",description:"",duration_min:30,price:0})},children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"})," Novo Servi\xe7o"]})]}),g&&(0,s.jsxs)(c.W,{className:"p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:j?"Editar Servi\xe7o":"Novo Servi\xe7o"}),(0,s.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome do Servi\xe7o"}),(0,s.jsx)("input",{type:"text",value:N.name,onChange:e=>k({...N,name:e.target.value}),className:"w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Descri\xe7\xe3o (opcional)"}),(0,s.jsx)("textarea",{value:N.description,onChange:e=>k({...N,description:e.target.value}),className:"w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white",rows:2})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Dura\xe7\xe3o (minutos)"}),(0,s.jsx)("input",{type:"number",value:N.duration_min,onChange:e=>k({...N,duration_min:parseInt(e.target.value)}),className:"w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white",min:"5",step:"5",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Pre\xe7o (R$)"}),(0,s.jsx)("input",{type:"number",value:N.price,onChange:e=>k({...N,price:parseFloat(e.target.value)}),className:"w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white",min:"0",step:"0.01",required:!0})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l.g,{type:"submit",children:j?"Salvar":"Criar Servi\xe7o"}),(0,s.jsx)("button",{type:"button",onClick:()=>{y(!1),w(null)},className:"px-6 py-2 rounded-lg border border-white/20 text-white hover:bg-white/10",children:"Cancelar"})]})]})]}),(0,s.jsx)("div",{className:"grid gap-4",children:0===p.length?(0,s.jsxs)(c.W,{className:"p-8 text-center",children:[(0,s.jsx)(o.Z,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Nenhum servi\xe7o cadastrado ainda."}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:'Clique em "Novo Servi\xe7o" para come\xe7ar.'})]}):p.map(e=>(0,s.jsx)(c.W,{className:"p-4 ".concat(e.is_active?"":"opacity-50"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"bg-gold/20 p-3 rounded-full",children:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-gold"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.name}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-400",children:e.description}),(0,s.jsxs)("div",{className:"flex gap-4 mt-1 text-sm",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-gray-400",children:[(0,s.jsx)(u.Z,{className:"w-3 h-3"})," ",e.duration_min," min"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,s.jsx)(m.Z,{className:"w-3 h-3"})," R$ ",e.price.toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>q(e),className:"px-3 py-1 rounded text-xs ".concat(e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.is_active?"Ativo":"Inativo"}),(0,s.jsx)("button",{onClick:()=>Z(e),className:"p-2 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white",children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>S(e.id),className:"p-2 rounded-lg hover:bg-red-500/20 text-gray-400 hover:text-red-400",children:(0,s.jsx)(h.Z,{className:"w-4 h-4"})})]})]})},e.id))})]})})}},2593:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var s=r(7437),i=r(3448);function a(e){let{children:t,className:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("backdrop-blur-md bg-white/10 border border-white/20 rounded-xl shadow-xl",r),...a,children:t})}},2920:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var s=r(7437),i=r(3448);let a=(0,r(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(e){let{children:t,className:r,isLoading:n,disabled:c,...l}=e;return(0,s.jsxs)("button",{disabled:c||n,className:(0,i.cn)("w-full bg-gradient-to-r from-[#D4AF37] to-[#F2D06B] text-black font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-gold/50 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",r),...l,children:[n&&(0,s.jsx)(a,{className:"mr-2 h-4 w-4 animate-spin"}),t]})}},5526:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});let s=(0,r(1695).createBrowserClient)("https://zynmvmxdluevuwigbadz.supabase.co","sb_publishable_9w0K7O3Sun2zl2qIQwX33g_wGkVsy6f")},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),i=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,s.W)(t))}}},function(e){e.O(0,[554,695,971,117,744],function(){return e(e.s=7001)}),_N_E=e.O()}]);