(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{2342:function(e,t,s){Promise.resolve().then(s.bind(s,8074))},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3229:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},8074:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),r=s(2265),i=s(9376),n=s(5526),l=s(2593),c=s(2920),o=s(3229),d=s(1723);let u=["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"];function m(){let e=(0,i.useRouter)(),[t,s]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[x,f]=(0,r.useState)(null),[b,g]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{let{data:{user:t}}=await n.O.auth.getUser();if(!t){e.push("/auth");return}let{data:a}=await n.O.from("barbers").select("id").eq("profile_id",t.id).single();if(!a){e.push("/dashboard");return}f(a.id);let{data:r}=await n.O.from("working_hours").select("*").eq("barber_id",a.id).order("day_of_week");g(Array.from({length:7},(e,t)=>(null==r?void 0:r.find(e=>e.day_of_week===t))||{day_of_week:t,start_time:"09:00",end_time:"18:00",is_active:0!==t})),s(!1)})()},[e]);let p=(e,t,s)=>{g(a=>a.map((a,r)=>r===e?{...a,[t]:s}:a))},w=async()=>{if(x){h(!0);try{await n.O.from("working_hours").delete().eq("barber_id",x);let e=b.filter(e=>e.is_active).map(e=>({barber_id:x,day_of_week:e.day_of_week,start_time:e.start_time,end_time:e.end_time}));e.length>0&&await n.O.from("working_hours").insert(e),alert("Hor\xe1rios salvos com sucesso!")}catch(e){console.error("Error saving schedule:",e),alert("Erro ao salvar hor\xe1rios")}finally{h(!1)}}};return t?(0,a.jsx)("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center text-gold",children:"Carregando..."}):(0,a.jsx)("div",{className:"min-h-screen bg-dark-bg p-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Hor\xe1rios de Trabalho"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Configure seus dias e hor\xe1rios de atendimento"})]}),(0,a.jsxs)(c.g,{onClick:w,disabled:m,children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"})," ",m?"Salvando...":"Salvar"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:b.map((e,t)=>(0,a.jsx)(l.W,{className:"p-4 ".concat(e.is_active?"":"opacity-50"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.is_active,onChange:e=>p(t,"is_active",e.target.checked),className:"w-5 h-5 rounded border-gray-600 bg-white/5 text-gold focus:ring-gold accent-gold"}),(0,a.jsx)("span",{className:"text-white font-medium w-24",children:u[t]})]})}),e.is_active&&(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"time",value:e.start_time,onChange:e=>p(t,"start_time",e.target.value),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm"}),(0,a.jsx)("span",{className:"text-gray-400",children:"\xe0s"}),(0,a.jsx)("input",{type:"time",value:e.end_time,onChange:e=>p(t,"end_time",e.target.value),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm"})]})}),!e.is_active&&(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"Fechado"})]})},t))}),(0,a.jsx)(l.W,{className:"p-4 mt-8 bg-blue-500/10 border-blue-500/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-blue-400 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 font-medium",children:"Dica"}),(0,a.jsx)("p",{className:"text-blue-200/70 text-sm",children:"Os hor\xe1rios definidos aqui ser\xe3o usados para mostrar os slots dispon\xedveis para agendamento no app dos clientes."})]})]})})]})})}},2593:function(e,t,s){"use strict";s.d(t,{W:function(){return i}});var a=s(7437),r=s(3448);function i(e){let{children:t,className:s,...i}=e;return(0,a.jsx)("div",{className:(0,r.cn)("backdrop-blur-md bg-white/10 border border-white/20 rounded-xl shadow-xl",s),...i,children:t})}},2920:function(e,t,s){"use strict";s.d(t,{g:function(){return n}});var a=s(7437),r=s(3448);let i=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(e){let{children:t,className:s,isLoading:n,disabled:l,...c}=e;return(0,a.jsxs)("button",{disabled:l||n,className:(0,r.cn)("w-full bg-gradient-to-r from-[#D4AF37] to-[#F2D06B] text-black font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-gold/50 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",s),...c,children:[n&&(0,a.jsx)(i,{className:"mr-2 h-4 w-4 animate-spin"}),t]})}},5526:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(1695).createBrowserClient)("https://zynmvmxdluevuwigbadz.supabase.co","sb_publishable_9w0K7O3Sun2zl2qIQwX33g_wGkVsy6f")},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var a=s(1994),r=s(3335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[554,695,971,117,744],function(){return e(e.s=2342)}),_N_E=e.O()}]);